% !TEX encoding = UTF-8 Unicode
% -*- coding: UTF-8; -*-
% vim: set fenc=utf-8

\chapter{Conclusão}%
\label{chap:conclusao}

\section{Considerações Finais}

Nesta monografia foi proposto o \textbf{QPP (Pré-Processador de Consultas)} como componente integrante ao DfAnalyzer, instanciando a arquitetura ARMFUL~\cite{silva2017raw} para a análise de simulações computacionais e fluxo de dados em larga escala. Para isso, os conceitos de fluxo de dados e mapeamento de atributos de dados comumente utilizados em consultas a simulações computacionais, assim como os tipos de proveniência prospectiva e retrospectiva foram revisitados a fim de propor a nossa abordagem para análise de dados de simulação. Mais especificamente, nossa abordagem baseou-se no conceito de rastro de dados de proveniência tirando proveito dos mapeamentos físicos e lógicos de atributos na especificação do fluxo de dados em simulações computacionais. 

Por meio da função \texttt{generateSqlQuery}, o QPP pode potencialmente facilitar a interação dos usuários com o sistema ao analisar dados de proveniência, de execução e de domínio armazenados na base de dados do DfAnalyzer~\cite{gadelha2012mtcprov}. Por exemplo, operações de junção comumente necessárias para relacionar conjuntos de dados oriundos da simulação não precisam ser especificadas explicitamente ao realizar análises usando o QPP. Assim, os usuários não precisam compreender todos os relacionamentos presentes no esquema da base de dados para realizar as suas consultas, diminuindo, assim, a curva de aprendizado e o esforço necessário da parte do usuário envolvidos na análise exploratória de dados científicos, uma vez que os principais relacionamentos entre conjuntos de dados são representados através de mapeamentos de atributos de dados do tipo lógico. Tais atributos de dados são devidamente levados em consideração na geração do código em SQL a partir do grafo de junção do fluxo de dados, o que seria complexo e trabalhoso se fosse realizado direta e manualmente pelo usuário.
Além disso, uma vez que os dados de proveniência são organizados em um DAG, a realização de consultas no modelo relacional para percorrer esse grafo também é um fator de complexidade adicional, o qual é abstraído para o usuário através do QPP.
No \autoref{chap:experimentos}, diversas consultas relacionadas a uma aplicação real~\cite{silva2016situ} foram executadas, ilustrando a utilização do QPP e o seu potencial analítico, e demonstrando a adequação e a eficiência da solução proposta.

\section{Trabalhos Futuros}

Dentre algumas ideias de trabalhos futuros para o projeto do pré-processador de consultas, destacam-se:

\begin{itemize}
    % Projeto da Débora: visualizador
    \item a implementação e integração de uma \textbf{interface gráfica} para o pré-processador de consultas, com o intuito e potencial de melhorar a usabilidade para o usuário e, mais especificamente: (\(i\)) auxiliá-lo a criar e especificar consultas, através da ação de arrastar e soltar com o \textit{mouse} etiquetas com as transformações e conjuntos de dados; e (\(ii\)) apresentá-lo os resultados da execução da consulta em SQL no banco de dados de forma visualmente organizada e limpa.
    % Otimizações de consultas que discutimos.
    \item aumentar o \textbf{desempenho das consultas} em SQL, com uma (\(i\)) diminuição do \textit{overhead} do pré-processador de consultas, através do aumento do desempenho da conversão das especificações do usuário para a linguagem SQL; e da (\(ii\)) otimização da consulta em si, por exemplo, através de melhorias nas técnicas de indexação, ou da diminuição do número de projeções e~/~ou junções incluídas na mesma, ou mesmo via um melhor aproveitamento das informações e dados de proveniência disponíveis no banco de dados.
    \item implementar uma forma de \textbf{validação nas especificações do usuário}, permitindo apenas a geração de consultas sintática e semanticamente válidas, com o intuito de melhorar o \textit{design} de interação e diminuir a probabilidade de erros por parte do mesmo, \textit{e.g.}, permitir apenas conjuntos de dados existentes nas projeções especificadas pelo usuário.
    \item permitir a inclusão de subconsultas na consulta principal e adicionar suporte a mais cláusulas da linguagem SQL, a fim de suportar consultas mais complexas: por exemplo, \texttt{GROUP BY}, \texttt{SELECT DISTINCT} e \texttt{LIMIT}.
    \item validar a hipótese de que o QPP realmente auxilia e facilita a interação de usuários reais com o sistema apresentado, checando se a curva de aprendizado para realizar consultas em simulações computacionais, com a utilização do QPP, realmente diminui.
\end{itemize}
