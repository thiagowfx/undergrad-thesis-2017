% !TEX encoding = UTF-8 Unicode
% -*- coding: UTF-8; -*-
% vim: set fenc=utf-8

% REVIEW: paper structure. Following standards appropriately?

% TODO: s/draft/final
\documentclass[grad,numbers,draft]{coppetex/coppe}

\usepackage[utf8]{inputenc} % not needed for LuaTeX, but included anyway
\usepackage{amsmath,amssymb}
\usepackage{lmodern} % next-gen computer modern fonts
\usepackage{float}
\usepackage{multirow}
\usepackage{subfigure}
\usepackage{longtable}
\usepackage{placeins}

\usepackage{epigraph} % quotes
\setlength{\epigraphrule}{0pt}

\usepackage{soul} % text highlighting

\usepackage[obeyDraft,portuguese,colorinlistoftodos,textsize=footnotesize]{todonotes}
\setlength{\marginparwidth}{2cm}
\newcommand{\mattoso}[2][]{\sethlcolor{pink}\texthl{#1}\todo[author=Marta Mattoso,inline,color=pink]{#2}}
\newcommand{\perrotta}[2][]{\sethlcolor{yellow}\texthl{#1}\todo[author=Thiago Perrotta,inline,color=yellow]{#2}}
\newcommand{\silva}[2][]{\sethlcolor{lightgray}\texthl{#1}\todo[author=Vitor Silva,inline,color=lightgray]{#2}}

\usepackage{listings}
\lstset{% configure listings package
language=Java,               % choose the language of the code
basicstyle=\footnotesize\sf, % the size of the fonts that are used for the code
numbers=left,                % where to put the line-numbers
numberstyle=\footnotesize,   % the size of the fonts that are used for the line-numbers
stepnumber=1,                % the step between two line-numbers. If it's 1 each line 
numbersep=5pt,               % how far the line-numbers are from the code
showspaces=false,            % show spaces adding particular underscores
showstringspaces=false,      % underline spaces within strings
showtabs=false,              % show tabs within strings adding particular underscores
frame=single,                % adds a frame around the code
tabsize=4,                   % sets default tabsize to 4 spaces
captionpos=t,                % sets the caption-position to top
breaklines=true,             % sets automatic line breaking
breakatwhitespace=true,      % sets if automatic breaks should only happen at whitespace
title=\lstname,              % show the filename of files included with \lstinputlisting;
escapeinside={\%*}{*)},      % if you want to add a comment within your code
morekeywords={}              % if you want to add more keywords to the set
}

\usepackage{hyperref}
\hypersetup{
	portuguese,
	pdfencoding=auto,
	breaklinks=true,
	bookmarksopen=true,
}

\makelosymbols{}
\makeloabbreviations{}

% \includeonly{introduction} % speed-up typesetting

\begin{document}
  % REVIEW: títulos
  \title{Um novo método de proveniência de dados para simulações científicas}
  \foreigntitle{A new data provenance method for scientific workflows}
  % alt: Um novo método de proveniência de dados
  % alt: A new method for data provenance

  \author{Thiago}{Barroso Perrotta}
  \advisor{Prof.}{Marta}{Lima de Queirós Mattoso}{D.Sc.}
  \advisor{}{Vítor}{Silva Sousa}{D.Sc. Candidate}

  % TODO: include examiners in the latest revision
  \examiner{Prof.}{Foo Bar}{D.Sc.}
  % \examiner{Prof.}{}{Ph.D.}

  \department{PESC}
  
  % TODO: update date in the latest revision
  \date{06}{2017}

  % REVIEW: palavras-chave
  % REVIEW: ++ in situ data analysis?
  \keyword{Fluxos de trabalho científicos}
  \keyword{Análise de dados brutos}
  \keyword{Gerenciamento de fluxos de dados}
  \keyword{Proveniência}
  \keyword{Bancos de Dados}

  \foreignkeyword{Scientific workflows}
  \foreignkeyword{Raw data analysis}
  \foreignkeyword{Dataflow management}
  \foreignkeyword{Provenance}
  \foreignkeyword{Databases}

  \listoftodos{}

  \maketitle
  \frontmatter{}

  \include{thanks}

  \include{abstract}

  \tableofcontents
  
  \listoffigures
  \listoftables
  
  \renewcommand{\lstlistlistingname}{Lista de Códigos}
  \addcontentsline{toc}{chapter}{Lista de Códigos}
  \lstlistoflistings

  \printlosymbols{}
  \printloabbreviations{}

  \mainmatter{}
  \include{introduction}
  \include{chapter02}
  \include{chapter03}
  \include{chapter04}
  \include{chapter05}
  \include{chapter06}
  \include{conclusion}

  \backmatter{}
  \bibliographystyle{coppetex/coppe-unsrt}
  \bibliography{thesis}

  % TODO: appendix?
  \appendix
  \chapter{Apêndice}

\end{document}
