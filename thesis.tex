% !TEX encoding = UTF-8 Unicode
% -*- coding: UTF-8; -*-
% vim: set fenc=utf-8

% use coppetex style class
% TODO: add final option
\documentclass[grad,numbers]{coppetex/coppe}

\usepackage{iftex}
\ifPDFTeX
  % use UTF-8 in pdftex (not needed in LuaTeX and XeTeX)
  \usepackage[utf8]{inputenc}
\fi

% math and symbols
\usepackage{amsmath,amssymb}

 % next-gen computer modern fonts
\usepackage{lmodern}

% better placement of images in sections
\usepackage[section]{placeins}

% https://en.wikibooks.org/wiki/LaTeX/Floats,_Figures_and_Captions
\usepackage{float}

% figures with borders
\floatstyle{boxed} 
\restylefloat{figure}

% required for better figures
\usepackage{subfigure}

% required for better tables
\usepackage{longtable}
\usepackage{multirow}

% curly brackets besides tables (\ldelim, \rdelim)
\usepackage{bigdelim}

% quotes
\usepackage{epigraph}
\setlength{\epigraphrule}{0pt}

% text highlighting, underlining, spacing
\usepackage{soul}

% todo notes
\usepackage[obeyFinal,portuguese,colorinlistoftodos,textsize=footnotesize]{todonotes}
\newcommand{\mattoso}[2][]{\sethlcolor{pink}\texthl{#1}\todo[author=\textbf{Marta Mattoso},inline,color=pink]{#2}}
\newcommand{\perrotta}[2][]{\sethlcolor{orange}\texthl{#1}\todo[author=\textbf{Thiago Perrotta},inline,color=orange]{#2}}
\newcommand{\silva}[2][]{\sethlcolor{lightgray}\texthl{#1}\todo[author=\textbf{Vitor Silva},inline,color=lightgray]{#2}}

% captions for floats
\usepackage[labelfont=bf]{caption}

% source code listings
\usepackage{listings}
\lstset{
  basicstyle=\footnotesize\sf, % the size of the fonts that are used for the code
  breakatwhitespace=true,      % sets if automatic breaks should only happen at whitespace
  breaklines=true,             % sets automatic line breaking
  captionpos=b,                % sets the caption-position
  commentstyle=\color{gray},   % sets the comments color
  frame=single,                % adds a frame around the code
  numbers=left,                % where to put the line-numbers
  numberstyle=\footnotesize,   % the size of the fonts that are used for the line-numbers
  showspaces=false,            % show spaces adding particular underscores
  showstringspaces=false,      % underline spaces within strings
  showtabs=false,              % show tabs within strings adding particular underscores
  stepnumber=1,                % the step between two line-numbers. If it's 1 each line
  tabsize=4,                   % sets default tabsize to 4 spaces
  title=\lstname,              % show the filename of files included with \lstinputlisting;
}

% display list of figures, tables or listings only if at least one component is present
\usepackage[figure,table,lstlisting]{totalcount}

% hyperlinks
\usepackage{hyperref}
\hypersetup{%
  portuguese,
  pdfencoding=auto,
  breaklinks=true,
  bookmarksopen=true,
  colorlinks=true,
}

\makelosymbols{}
\makeloabbreviations{}

% typeset only the following chapters for faster typesetting times
% \includeonly{chapter03}

\begin{document}
  \title{Análise do Rastro de Proveniência em Simulações Computacionais em Larga Escala}
  \foreigntitle{Provenance Tracing Analysis on Computer Simulations in large-scale}

  \author{Thiago}{Barroso Perrotta}
  \advisor{Prof.}{Marta}{Lima de Queirós Mattoso}{D.Sc.}
  \advisor{}{Vítor}{Silva Sousa}{D.Sc. Candidate}

  % TODO: include examiners in the latest revision
  \examiner{Prof.}{Foo Bar}{D.Sc.}

  \department{PESC}
  
  % TODO: update date in the latest revision
  \date{07}{2017}

  \keyword{\textit{Workflows} Científicos}
  \keyword{Análise de Dados Científicos}
  \keyword{Gerência de Fluxos de Dados}
  \keyword{Dados de Proveniência}
  \keyword{Bancos de Dados}

  \foreignkeyword{Scientific Workflows}
  \foreignkeyword{Raw Data Analysis}
  \foreignkeyword{Dataflow Management}
  \foreignkeyword{Provenance Data}
  \foreignkeyword{Databases}

  \listoftodos{}

  \maketitle
  \frontmatter{}

  \include{thanks}

  \include{abstract}

  \tableofcontents
  
  \iftotalfigures
  \listoffigures
  \fi
  
  \iftotaltables
  \listoftables
  \fi

  \printlosymbols{}
  \printloabbreviations{}
  
  \iftotallstlistings
  \renewcommand{\lstlistlistingname}{Lista de Códigos}
  \clearpage
  \addcontentsline{toc}{chapter}{\lstlistlistingname}
  \lstlistoflistings{}
  \fi

  \mainmatter{}
  \include{chapter01} % Introduction
  \include{chapter02}
  \include{chapter03}
  \include{chapter04}
  \include{chapter05}
  \include{chapter06}
  \include{chapter07} % Conclusion

  \backmatter{}
  \bibliographystyle{coppetex/coppe-unsrt}
  \bibliography{thesis} % Pro-Tip: use JabRef to manage this file

  % TODO: appendix?
  % \appendix
  % \chapter{Apêndice}

\end{document}